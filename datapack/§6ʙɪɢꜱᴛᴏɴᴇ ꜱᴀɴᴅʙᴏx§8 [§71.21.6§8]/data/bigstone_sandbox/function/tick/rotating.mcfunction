# Hotbar (Slots 0-8)
execute as @s if data entity @s Inventory[{Slot:0b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:0b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:1b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:1b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:2b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:2b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:3b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:3b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:4b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:4b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:5b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:5b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:6b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:6b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:7b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:7b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:8b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:8b}].components.minecraft:custom_data.bs_active

# Main Inventory (Slots 9-35)
execute as @s if data entity @s Inventory[{Slot:9b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:9b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:10b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:10b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:11b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:11b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:12b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:12b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:13b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:13b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:14b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:14b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:15b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:15b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:16b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:16b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:17b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:17b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:18b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:18b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:19b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:19b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:20b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:20b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:21b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:21b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:22b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:22b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:23b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:23b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:24b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:24b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:25b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:25b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:26b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:26b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:27b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:27b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:28b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:28b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:29b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:29b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:30b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:30b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:31b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:31b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:32b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:32b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:33b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:33b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:34b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:34b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:35b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:35b}].components.minecraft:custom_data.bs_active

# Offhand (Slot -106)
execute as @s if data entity @s Inventory[{Slot:-106b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:-106b}].components.minecraft:custom_data.bs_active

# Armor Slots (Slots 100-103)
execute as @s if data entity @s Inventory[{Slot:100b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:100b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:101b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:101b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:102b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:102b}].components.minecraft:custom_data.bs_active
execute as @s if data entity @s Inventory[{Slot:103b, components:{"minecraft:item_name":"component_bigstone_sandbox"}}] run data remove entity @s Inventory[{Slot:103b}].components.minecraft:custom_data.bs_active

# Active nbt
execute if items entity @s weapon.mainhand *[item_name="component_bigstone_sandbox"] run data modify entity @s SelectedItem.components.minecraft:custom_data.bs_active set value true

# Rotating
execute as @a if score @s bs_invert_rotating_VAL matches -1 if entity @e[type=item,name="component_bigstone_sandbox"] at @s run function bigstone_sandbox:structures/rotate_x
execute as @a if score @s bs_invert_rotating_VAL matches 1 if entity @e[type=item,name="component_bigstone_sandbox"] at @s run function bigstone_sandbox:structures/rotate_y

execute as @a if score @s bs_invert_rotating_VAL matches -1 if items entity @s weapon.offhand minecraft:player_head[item_name="component_bigstone_sandbox",minecraft:custom_data~{bs_active:true}] at @s run function bigstone_sandbox:structures/rotate_y
execute as @a if score @s bs_invert_rotating_VAL matches 1 if items entity @s weapon.offhand minecraft:player_head[item_name="component_bigstone_sandbox",minecraft:custom_data~{bs_active:true}] at @s run function bigstone_sandbox:structures/rotate_x